# 🎮 Body Blaster

**Your body is the controller.**

MediaPipe Poseを使った姿勢シューティングゲーム。あなたの体の動きでゲームをプレイしましょう！

## 🎯 特徴

- 🎥 **カメラで体を認識** - MediaPipe Poseによるリアルタイム姿勢検出
- 🎮 **直感的な操作** - 体を動かすだけで遊べる
- 💪 **運動になる** - ゲームをプレイしながら楽しく体を動かせる
- 🌐 **ブラウザで動作** - インストール不要、ブラウザだけで完結
- 🆓 **完全無料** - サーバー不要、静的ホスティングで動作
- 📹 **録画機能** - カメラ映像を録画可能
- 📸 **自動撮影** - ボム発動時に自動で写真撮影

## 🕹️ 操作方法

| 動作 | ゲーム操作 | 説明 |
|------|-----------|------|
| 🦅 首を傾ける | 左右移動 | 十字キーのような操作（傾け続けると移動） |
| 🐦 両手を羽ばたかせる | 単発弾 | 両手を上下に動かすと発射 |
| 👋 片手を振る | 拡散弾（3方向） | 10秒クールダウン |
| 🙏 両手を合わせる | ボムチャージ | 両手を胸の前で合わせてチャージ（4秒でMAX） |
| 🙌 両手を上げる | ボム発動 | チャージ50%以上で両手を上げると発動 |

## 📹 録画・撮影機能

### カメラ録画
- **⏺ 録画ボタン** でカメラ映像を録画開始
- **⏹ 停止ボタン** で録画終了＆自動ダウンロード
- 形式：WebM（VP9/VP8コーデック）
- ファイル名：`body-blaster-YYYY-MM-DDTHH-MM-SS.webm`

### 自動写真撮影
- ボム発動時に**自動でカメラ映像を撮影**
- 形式：PNG
- ファイル名：`body-blaster-bomb-YYYY-MM-DDTHH-MM-SS.png`
- エキサイティングな瞬間を自動で保存！

## 👾 敵の種類

| タイプ | 外見 | 特徴 | HP |
|--------|------|------|----|
| **Normal** | 赤い円 | 直進してくる | 1 |
| **Zigzag** | 緑の菱形 | ジグザグに動く | 1 |
| **Shooter** | オレンジの四角 | 弾を発射してくる | 2 |
| **Strong** | 紫の円 | ゆっくり動く、頑丈 | 3 |

## 🚀 ローカルでの起動方法

### 1. HTTPサーバーを起動

カメラを使用するため、HTTPSまたはlocalhostでの実行が必要です。

**Python 3がインストールされている場合:**

```bash
cd body-blaster
python3 -m http.server 8000
```

**Node.jsがインストールされている場合:**

```bash
# http-serverをグローバルインストール（初回のみ）
npm install -g http-server

# サーバー起動
cd body-blaster
http-server -p 8000
```

**VS Codeを使用している場合:**

Live Server拡張機能をインストールして、index.htmlを右クリック → "Open with Live Server"

### 2. ブラウザでアクセス

```
http://localhost:8000
```

カメラへのアクセス許可を求められたら「許可」を選択してください。

## 📦 ファイル構成

```
body-blaster/
├── index.html          # メインHTML
├── style.css           # スタイルシート
├── js/
│   ├── game.js         # ゲームループとメイン制御
│   ├── pose.js         # MediaPipe Pose処理
│   ├── player.js       # プレイヤー制御
│   ├── enemy.js        # 敵管理（4種類）
│   ├── bullet.js       # 弾丸管理（拡散弾対応）
│   ├── effects.js      # エフェクト管理
│   └── utils.js        # ユーティリティ関数
└── README.md
```

## 🌐 デプロイ方法

### Cloudflare Pages（推奨）

1. GitHubリポジトリを作成してコードをプッシュ
2. [Cloudflare Pages](https://pages.cloudflare.com/)にアクセス
3. GitHubアカウントで連携
4. リポジトリを選択
5. ビルド設定は不要（静的サイト）
6. デプロイ完了！自動的にHTTPSが付与されます

### GitHub Pages

1. GitHubリポジトリを作成
2. Settings → Pages
3. Source: main branch / root
4. Save
5. 数分後にデプロイ完了

### Vercel

1. [Vercel](https://vercel.com/)でGitHubアカウント連携
2. Import Project
3. リポジトリを選択
4. デプロイ完了！

## 🎮 ゲームのコツ

- カメラから **1.5〜2m離れた位置** でプレイすると認識精度が向上します
- 明るい場所でプレイしてください
- **首を傾けたままにすると移動し続けます**（中央で止まります）
- 両手を羽ばたかせると連射できます
- 拡散弾（片手振り）は10秒クールダウンですが、強力です！
- ボムはチャージに時間がかかるので、余裕を持ってチャージしましょう
- 敵の種類によって動きが違うので、それぞれに対応しましょう

## 🛠️ 技術スタック

- **MediaPipe Pose** - 姿勢検出
- **Canvas 2D** - ゲーム描画
- **Vanilla JavaScript** - フレームワーク不要
- **HTML5** - カメラアクセス、MediaRecorder API

## 📝 ライセンス

MIT License

## 🤝 貢献

プルリクエスト、Issue、改善提案を歓迎します！

## 🎯 今後の拡張予定

- [ ] しゃがみ動作による回避モード
- [ ] さらに多くの敵パターン
- [ ] パワーアップアイテム
- [ ] ランキング機能（Firebaseなど）
- [ ] マルチプレイモード
- [x] 録画機能
- [x] 自動写真撮影
- [x] 拡散弾
- [x] 複数敵タイプ

---

Enjoy playing Body Blaster! 💪🎮
